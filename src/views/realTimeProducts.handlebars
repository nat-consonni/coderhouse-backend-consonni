<h1>Productos en tiempo real (WebSockets)</h1>

<section>
  <h3>Crear producto (emite por WS)</h3>
  <form id="createForm">
    <input name="title" placeholder="Título" required />
    <input name="description" placeholder="Descripción" required />
    <input name="code" placeholder="Código único" required />
    <input name="price" type="number" placeholder="Precio" required />
    <input name="stock" type="number" placeholder="Stock" required />
    <input name="category" placeholder="Categoría" required />
    <input name="thumbnail" placeholder="Thumbnail (opcional)" />
    <label><input name="status" type="checkbox" checked /> Activo</label>
    <button type="submit">Crear</button>
    <div class="error" id="createError"></div>
  </form>
</section>

<section style="margin-top:16px;">
  <h3>Eliminar producto por ID (WS)</h3>
  <form id="deleteForm">
    <input name="id" placeholder="ID" required />
    <button type="submit">Eliminar</button>
    <div class="error" id="deleteError"></div>
  </form>
</section>

<hr />

<h2>Listado</h2>
<div id="list" class="grid">
  {{#each products}}
    <article class="card">
      <h3>{{this.title}}</h3>
      <p>{{this.description}}</p>
      <p><b>${{this.price}}</b> | Stock: {{this.stock}}</p>
      <small>code: {{this.code}} · id: <code>{{this._id}}</code></small>
      <button class="btn-delete-card" data-id="{{this._id}}">Eliminar</button>
    </article>
  {{/each}}
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/realtime.js"></script>